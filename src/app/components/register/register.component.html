<div class="container py-4">
  <br><br>
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card">
        <div class="card-header">
          <h2 class="text-center">Registro</h2>
        </div>
        <div class="card-body">
          <form (submit)="register($event)">
            <div class="row">
              <!-- Columna izquierda -->
              <div class="col-md-6">
                <div class="form-group">
                  <label for="nombre">Nombre</label>
                  <input id="nombre" type="text" class="form-control" placeholder="Ej: Paco"
                         [(ngModel)]="user.name" name="name" required>
                </div>
                <br>
                <div class="form-group">
                  <label for="password">Contraseña</label>
                  <input id="password" type="password" class="form-control"
                         [(ngModel)]="user.password" name="password" required>
                </div>
                <br>
                <div class="form-group">
                  <label for="phone">Teléfono</label>
                  <input id="phone" type="text" class="form-control" placeholder="Ej: 612345678"
                         [(ngModel)]="user.phone_number" name="phone_number"
                         (blur)="validatePhoneNumber()" required>
                  <small class="text-danger" *ngIf="phoneError">{{ phoneError }}</small>
                </div>
                <br>
                <div class="form-group">
                  <label for="staff">Personal de atención</label>
                  <input id="staff" type="number" class="form-control" placeholder="Ej: 8"
                         [(ngModel)]="user.staff_count" name="staff_count" min="0"
                         (blur)="validateStaffCount()" required>
                  <small class="text-danger" *ngIf="staffError">{{ staffError }}</small>
                </div>
              </div>

              <!-- Columna derecha -->
              <div class="col-md-6">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input id="email" type="email" class="form-control" placeholder="Ej: paco@mail.com"
                         [(ngModel)]="user.email" name="email" required>
                </div>
                <br>
                <div class="form-group">
                  <label for="confirmPassword">Repetir Contraseña</label>
                  <input id="confirmPassword" type="password" class="form-control"
                         [(ngModel)]="user.password_confirmation" name="password_confirmation" required>
                </div>
                <br>
                <div class="form-group">
                  <label for="company">Nombre de la empresa</label>
                  <input id="company" type="text" class="form-control" placeholder="Ej: Tagliatella"
                         [(ngModel)]="user.company_name" name="company_name" required>
                </div>
                <br>
                <div class="form-group mt-4">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="training"
                           [(ngModel)]="user.requires_training" name="requires_training">
                    <label class="form-check-label" for="training">
                      Necesito formación
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <!-- Errores generales -->
            <div class="form-group">
              <small class="text-danger" *ngIf="passwordError">{{ passwordError }}</small>
              <small class="text-danger" *ngIf="registrationError" [innerHTML]="registrationError"></small>
            </div>
            <br>
            <!-- Botón de envío -->
            <div class="form-group text-center">
              <button type="submit" class="btn btn-primary btn-lg">Registrarme</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
